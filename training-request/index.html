<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSRP Training Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>FSRP Training Application</h1>
            <p>Submit your training request below</p>
        </header>

        <div class="form-container">
            <form id="trainingForm" class="training-form">
                <div class="form-group">
                    <label for="name">Full Name <span class="required">*</span></label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="department">Department <span class="required">*</span></label>
                    <select id="department" name="department" required>
                        <option value="">Select Department</option>
                        <option value="LSP">LSP</option>
                        <option value="BCSO">BCSO</option>
                        <option value="SASPR">SASPR</option>
                        <option value="SAHP">SAHP</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="rank">Current Rank <span class="required">*</span></label>
                    <input type="text" id="rank" name="rank" required>
                </div>


                <div class="form-group">
                    <label for="trainingType">Type of Training <span class="required">*</span></label>
                    <select id="trainingType" name="trainingType" required>
                        <option value="">Select Training Type</option>
                        <option value="Field Training">Field Training</option>
                        <option value="Firearms">Firearms</option>
                        <option value="Defensive Tactics">Defensive Tactics</option>
                        <option value="EVOC">EVOC</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="preferredDate">Preferred Date <span class="required">*</span></label>
                    <input type="date" id="preferredDate" name="preferredDate" required>
                </div>

                <div class="form-group">
                    <label for="preferredTime">Preferred Time <span class="required">*</span></label>
                    <input type="time" id="preferredTime" name="preferredTime" required>
                </div>


                <div class="form-group">
                    <label for="additionalInfo">Additional Information</label>
                    <textarea id="additionalInfo" name="additionalInfo" rows="4"></textarea>
                </div>

                <button type="submit" class="submit-btn">Submit Application</button>
            </form>
        </div>

        <!-- Notification -->
        <div id="notification" class="notification">
            <i class="fas fa-check-circle"></i>
            <span class="notification-message"></span>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const form = document.getElementById('trainingForm');
                if (!form) return;
                
                form.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    try {
                        // Show loading state
                        const submitBtn = form.querySelector('button[type="submit"]');
                        const originalText = submitBtn.innerHTML;
                        submitBtn.disabled = true;
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
                        
                        // Simulate API call
                        await new Promise(resolve => setTimeout(resolve, 1500));
                        
                        // Show success message
                        const notification = document.getElementById('notification');
                        notification.className = 'notification success';
                        notification.querySelector('i').className = 'fas fa-check-circle';
                        notification.querySelector('.notification-message').textContent = 'Training request submitted successfully!';
                        notification.style.display = 'flex';
                        
                        // Hide notification after 5 seconds
                        setTimeout(() => {
                            notification.style.display = 'none';
                        }, 5000);
                        
                        // Reset form
                        form.reset();
                    } catch (error) {
                        console.error('Error submitting form:', error);
                        const notification = document.getElementById('notification');
                        notification.className = 'notification error';
                        notification.querySelector('i').className = 'fas fa-exclamation-circle';
                        notification.querySelector('.notification-message').textContent = 'Failed to submit form. Please try again.';
                        notification.style.display = 'flex';
                        
                        setTimeout(() => {
                            notification.style.display = 'none';
                        }, 5000);
                    } finally {
                        // Reset button state
                        const submitBtn = form.querySelector('button[type="submit"]');
                        if (submitBtn) {
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = 'Submit Application';
                        }
                    }
                });
            });
        </script>
    </div>
</body>
</html>
